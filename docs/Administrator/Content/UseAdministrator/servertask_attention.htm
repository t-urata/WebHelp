<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="ja-jp" xml:lang="ja-jp" data-mc-search-type="NGram" data-mc-help-system-file-name="Administrator.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="システム設定グループ|サーバタスクの設定ビュー" data-mc-file-tags="RoboHelpStatus.完了" data-mc-priority="0" data-mc-time-estimate="0" data-mc-id="サーバタスクの注意点">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" /><title>サーバタスクの注意点</title>
        <link rel="StyleSheet" href="../TimeSheet.css" type="text/css" />
        <script src="../../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Administrator.htm#UseAdministrator/servertask_attention.htm">目次を表示</a>
        </p>
        <h1><a name="kanchor48"></a>サーバタスクの注意点</h1>
        <p>ここでは、サーバタスク機能に関して、注意すべき点について説明します。</p>
        <p>&#160;</p>
        <p class="title">サーバタスクについて</p>
        <p>サーバタスクとは、サーバマシンで動作するデータ更新プログラムです。</p>
        <p>メンテナンスなどでデータベースを停止させる場合は、サーバタスクを停止させる必要があります。</p>
        <p>また、サーバタスクもクライアントアプリケーションと同様に、サーバ設定ファイル(TimeTracker.config)を参照し、処理の対象となるデータベースに接続します。</p>
        <p>サーバタスクのためのサーバ設定ファイルは、データベース作成ウィザードによるデータベース作成時には自動的に作成・設定しますが、サーバマシン名の変更やデータベース移行などで接続設定が変わる場合は、手動で変更する必要があります。</p>
        <p>これらの手順について以下で説明します。</p>
        <p>&#160;</p>
        <p class="title">データベースを停止する場合</p>
        <p>サーバマシンのメンテナンスなどでデータベースを停止する場合の注意点は、以下の通りです。</p>
        <ul type="disc">
            <li value="1">
                <p>データベースを停止する場合･･･事前にサーバタスクを停止します。</p>
            </li>
            <ul>
                <li class="p-情報" value="1">
                    <p>データベース停止後は、サーバタスクを開始しても何も処理を行いません。</p>
                </li>
            </ul>
        </ul>
        <ul type="disc">
            <li value="1">
                <p>データベースを開始する場合･･･停止していたデータベースを開始する場合、サーバタスクを再起動するまでは処理を開始しません。</p>
            </li>
            <ul>
                <li class="p-情報" value="1">
                    <p>データベース開始後に、サーバタスクを一旦停止し、あらためて開始してください。</p>
                </li>
            </ul>
        </ul>
        <p>&#160;</p>
        <ul>
            <li class="p-警告" value="1">
                <p>サーバタスクを停止しておかないと、処理に失敗してサーバマシンのパフォーマンスを低下させる恐れがあります。</p>
            </li>
        </ul>
        <ul>
            <li class="p-情報" value="1">
                <p>これらの作業は、Administratorから実行します。具体的な手順については、<a href="../SystemSettingGroup/ServerTaskView/edit_servertask_setup.htm">[サーバタスクの設定]</a>をご覧ください。</p>
            </li>
        </ul>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="title">サーバ接続情報を変更する場合</p>
        <p>サーバマシン名の変更・データベースの移行など、サーバ接続情報を変更する場合は、サーバタスクが参照するサーバ設定ファイルを手動で変更する必要があります。</p>
        <ul>
            <li class="p-警告" value="1">
                <p>この作業を行わないと、サーバタスクは変更後のデータベースを認識できず、処理を行えなくなります。</p>
            </li>
        </ul>
        <p>&#160;</p>
        <p>以下の場合、新しいサーバ設定ファイルを作成して、クライアントの接続先を切り替える必要がありますが、サーバタスクも同様に切り替えが必要となります。</p>
        <ul type="disc">
            <li value="1">
                <p>サーバマシン名を変更する場合</p>
            </li>
            <li value="2">
                <p>データベースを移行する場合(別サーバマシン、もしくは異なるSQL Serverへの移行など)</p>
            </li>
            <li value="3">
                <p>データベースへの接続に使用するアカウント名、パスワードを変更する場合</p>
            </li>
        </ul>
        <p>&#160;</p>
        <p>このとき、以下の手順でサーバタスクの設定を行ってください。</p>
        <ol style="list-style-type: decimal;">
            <li value="1">
                <p>サーバタスクを停止します。</p>
            </li>
            <li value="2">
                <p>既存の設定を削除します。<br />これまで使用していたサーバ設定ファイルをフォルダごと削除します。</p>
            </li>
            <ul>
                <li class="p-警告" value="1">
                    <p>サーバタスクを停止していないと削除できません。</p>
                </li>
                <li class="p-情報" value="2">
                    <p>サーバタスクが参照するサーバ設定ファイルの格納場所については、以下の[サーバタスクが参照するサーバ設定ファイルについて]をご覧ください。</p>
                </li>
            </ul>
        </ol>
        <ol start="3">
            <li value="3">
                <p>新しい設定を適用します。</p>
            </li>
            <ul>
                <li class="p-情報" type="1" value="1">
                    <p>[サーバタスクが参照するサーバ設定ファイルについて]にある命名規則に従って新規フォルダを作成し、作成したフォルダに新しいサーバ設定ファイルをコピーします。</p>
                </li>
            </ul>
        </ol>
        <ol start="4">
            <li value="4">
                <p>サーバタスクを開始します。</p>
            </li>
        </ol>
        <p>&#160;</p>
        <ol start="4">
            <li class="p-情報" value="4">
                <p>1・4 の作業は、Administratorから実行します。具体的な手順については、<a href="../SystemSettingGroup/ServerTaskView/edit_servertask_setup.htm">[サーバタスクの設定]</a>をご覧ください。</p>
            </li>
            <li class="p-情報" value="5">
                <p>2・3 の作業は、サーバマシン上で手動で行ってください。</p>
            </li>
        </ol>
        <p>&#160;</p>
        <p class="title"><a name="servertask_config"></a>サーバタスクが参照するサーバ設定ファイルについて</p>
        <p>サーバタスクが参照するサーバ設定ファイルは、サーバマシンの以下のフォルダに格納されています。</p>
        <ul type="disc">
            <li value="1">
                <p>　(TimeTracker FXインストールフォルダ)￥Config￥ServerName.InstanceName.DatabaseName</p>
            </li>
        </ul>
        <p>&#160;</p>
        <p>ここで、ServerNameは接続先サーバマシン名、InstanceNameは接続先データベースのインスタンス名、DatabaseNameはデータベース名となります。</p>
        <ul type="disc">
            <li class="p-情報" value="1">
                <p>通常は、データベース作成ウィザードによるデータベース作成・アップグレード時に、この命名規則にしたがったフォルダを作成し、新しいサーバ設定ファイルを自動的にコピーしています。</p>
            </li>
        </ul>
        <p>&#160;</p>
        <ul type="disc">
            <li value="1">
                <p>例1：サーバマシン "TTEval" に製品同梱のSQL Server Express 
	 Editionをインストールし、データベース名 "TimeTrackerFX" を作成した場合</p>
            </li>
        </ul>
        <p style="margin-left: 80px;">サーバマシン名：TTEval</p>
        <p style="margin-left: 80px;">インスタンス名：TTFX</p>
        <p style="margin-left: 80px;">データベース名：TimeTrackerFX</p>
        <p style="margin-left: 80px;">作成するフォルダ名：TTEval.TTFX.TimeTrackerFX</p>
        <p style="margin-left: 80px;">&#160;</p>
        <ul type="disc">
            <li value="1">
                <p>例2：サーバマシン "FXServer" にSQL Serverをデフォルト(インスタンス名なし)インストールし、データベース名 
	 "TimeTrackerFX" を作成した場合</p>
            </li>
        </ul>
        <p style="margin-left: 80px;">サーバマシン名：FXServer</p>
        <p style="margin-left: 80px;">インスタンス名：(なし)</p>
        <p style="margin-left: 80px;">データベース名：TimeTrackerFX</p>
        <p style="margin-left: 80px;">作成するフォルダ名：FXServer..TimeTrackerFX</p>
        <ul>
            <li class="p-情報" value="1">
                <p>インスタンス名が無い場合は、サーバマシン名とデータベース名の間のピリオドが2つ連続します。</p>
            </li>
        </ul>
        <p>&#160;</p>
    </body>
</html>